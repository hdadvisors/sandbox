{
  "hash": "c9f13d43e7b9a26468a65d5d5a913f81",
  "result": {
    "markdown": "# Leaflet\n\nThis page is a demonstration of an interactive Leaflet map rendered in Quarto.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(leaflet)\n\nnhpd <- read_csv(\"data/nhpd_chesterfield.csv\") |> \n  clean_names() |> \n  filter(subsidy_status != \"Inactive\")\n\npal <- colorFactor(palette = c(\"blue\", \"red\", \"green\", \"orange\"),\n                   levels = c(\"LIHTC\", \"Section 8\", \"HUD Insured\",\n                              \"Section 202 or Section 236\"))\n\nleaflet(nhpd) |> \n  addProviderTiles(providers$CartoDB.Positron) |> \n  addCircleMarkers(\n    lng = ~long,\n    lat = ~lat,\n    radius = 4,\n    color = ~pal(subsidy),\n    stroke = FALSE, fillOpacity = 0.5\n    ) |> \n  addLegend(\"bottomright\", pal = pal, values = ~subsidy,\n            title = \"Federal program\", opacity = 1)\n```\n\n::: {#fig-leaflet .cell-output-display}\n```{=html}\n<div id=\"htmlwidget-d4467332732723a8b1b2\" style=\"width:100%;height:464px;\" class=\"leaflet html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d4467332732723a8b1b2\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addProviderTiles\",\"args\":[\"CartoDB.Positron\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]},{\"method\":\"addCircleMarkers\",\"args\":[[37.316999,37.497787,37.466243,37.435904,37.513302,37.44824,37.424551,37.42393,37.423208,37.434692,37.434692,37.443725,37.453795,37.453877,37.453795,37.436117,37.354032,37.361922,37.458235,37.301677,37.353418,37.377574,37.358895,37.491672,37.316999,37.310377,37.356203,37.311313,37.477852,37.429632,37.367178,37.420714,37.301677,37.448351],[-77.409995,-77.593367,-77.675564,-77.590299,-77.684255,-77.491445,-77.441617,-77.439656,-77.439995,-77.589832,-77.589832,-77.445608,-77.489098,-77.613718,-77.489098,-77.586339,-77.457,-77.496336,-77.500992,-77.600389,-77.457039,-77.500815,-77.446032,-77.660126,-77.409995,-77.426086,-77.491852,-77.428727,-77.573369,-77.530873,-77.442125,-77.581106,-77.600389,-77.477052],4,null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":false,\"color\":[\"#FF0000\",\"#FF0000\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#FF0000\",\"#0000FF\",\"#FF0000\",\"#0000FF\",\"#0000FF\",\"#FF0000\",\"#FF0000\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#00FF00\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#FF0000\",\"#FF0000\",\"#FF0000\",\"#FF0000\",\"#FFA500\",\"#FF0000\"],\"weight\":5,\"opacity\":0.5,\"fill\":true,\"fillColor\":[\"#FF0000\",\"#FF0000\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#FF0000\",\"#0000FF\",\"#FF0000\",\"#0000FF\",\"#0000FF\",\"#FF0000\",\"#FF0000\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#00FF00\",\"#0000FF\",\"#0000FF\",\"#0000FF\",\"#FF0000\",\"#FF0000\",\"#FF0000\",\"#FF0000\",\"#FFA500\",\"#FF0000\"],\"fillOpacity\":0.5},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]},{\"method\":\"addLegend\",\"args\":[{\"colors\":[\"#00FF00\",\"#0000FF\",\"#FFA500\",\"#FF0000\"],\"labels\":[\"HUD Insured\",\"LIHTC\",\"Section 202 or Section 236\",\"Section 8\"],\"na_color\":null,\"na_label\":\"NA\",\"opacity\":1,\"position\":\"bottomright\",\"type\":\"factor\",\"title\":\"Federal program\",\"extra\":null,\"layerId\":null,\"className\":\"info legend\",\"group\":null}]}],\"limits\":{\"lat\":[37.301677,37.513302],\"lng\":[-77.684255,-77.409995]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\nFederally assisted rental properties in Chesterfield County\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\r\n<script src=\"site_libs/jquery-1.12.4/jquery.min.js\"></script>\r\n<link href=\"site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/leaflet-1.3.1/leaflet.js\"></script>\r\n<link href=\"site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/proj4-2.6.2/proj4.min.js\"></script>\r\n<script src=\"site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\r\n<link href=\"site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/leaflet-binding-2.1.1/leaflet.js\"></script>\r\n<script src=\"site_libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js\"></script>\r\n<script src=\"site_libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}